import{A as i,B as s}from"./index-BuxX1puY.js";async function f(t){console.log("Creating questionnaire with data:",t);try{const e=i("access_token"),r=await s.post("http://localhost:8081/questionnaire/create",t,{headers:{"Content-Type":"application/json",...e&&{Authorization:`Bearer ${e}`}}});if(console.log("Questionnaire API response:",r),r.status===200&&r.data)return console.log("Questionnaire created successfully:",r.data),r.data;throw console.error("Failed to create questionnaire:",r),new Error(`问卷创建失败: ${r.data||"服务器响应异常"}`)}catch(e){if(console.error("Error creating questionnaire:",e),s.isAxiosError(e)){const r=e.response?.data?.message||e.response?.data||"服务器错误";throw new Error(`问卷创建失败: ${r}`)}else throw e instanceof Error?new Error(`问卷创建失败: ${e.message}`):new Error("问卷创建失败: 未知错误")}}function a(t,e,r){return{active:t,createdData:Date.now(),startDate:e?e.getTime():null,endDate:r?r.getTime():null}}function o(){return a(!1)}function u(t,e){return a(!0,t,e)}function c(){return a(!1)}function n(t){return JSON.stringify(t)}function d(t){try{return JSON.parse(t)}catch(e){return console.error("Failed to parse questionnaire status JSON:",t,e),o()}}function g(){return n(o())}function p(t,e){return n(u(t,e))}function h(){return n(c())}export{o as a,f as b,g as c,d,h as e,u as f,p as g,c as h,n as s};
