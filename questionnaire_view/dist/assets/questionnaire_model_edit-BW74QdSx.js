import{A as re,B as de,d as De,u as Me,j as r,c as A,C as Qe,l as Oe,a as i,o as n,b as e,f as d,e as v,t as a,g as T,v as C,E as Ne,s as Ve,y as O,w as j,m as $e,p as Ue,F as N,h as V,i as Ee,n as b,z as Se,_ as Ae}from"./index-BuxX1puY.js";import{v as Be,V as Fe,p as Re,g as B,a as G}from"./questionnaireModel-BJZZgFqq.js";import{p as Le}from"./questionnaireModelQuery-CyaAM1O5.js";import{getQuestionsByIds as ze,getQuestionTypeIcon as ie,getQuestionTypeDisplayName as ae,parseQuestionOptions as ue}from"./questionQuery-D67Y8dOg.js";import"./_commonjsHelpers-92s3wAHG.js";async function Je(g){try{console.log("Getting questionnaire model by ID:",g);const y=re("authToken");if(!y)throw new Error("未找到认证token");const f=await de.get(`http://localhost:8081/model/search/${g}`,{headers:{Authorization:`Bearer ${y}`}});return console.log(`API response for model ${g}:`,f.data),f.data&&f.data.modelId?(console.log("Questionnaire model found:",f.data),f.data):(console.warn(`No valid data returned for model ${g}`),null)}catch(y){return console.error("Error getting questionnaire model by ID:",y),null}}async function Pe(g){try{console.log("Updating questionnaire model with data:",g);const y=re("authToken");if(!y)throw new Error("未找到认证token");const f=await de.post("http://localhost:8081/model/edit",g,{headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"}});if(f.status===200){console.log("Questionnaire model updated successfully");const h=f.data;let w;return h&&h.modelId&&h.modelId!==g.modelId&&(w=h.modelId,console.log(`Model ID changed: ${g.modelId} -> ${w}`)),{success:!0,message:w?"模版更新成功，ID已更新":"模版更新成功",newModelId:w}}return console.error("Failed to update questionnaire model:",f),{success:!1,message:"更新失败，请稍后重试"}}catch(y){return console.error("Error updating questionnaire model:",y),{success:!1,message:"网络错误，请检查连接"}}}const je={class:"questionnaire-model-edit"},Ge={key:0,class:"loading-section"},Ke={key:1,class:"error-section"},He={class:"error-content"},We={key:2,class:"edit-form-section"},Xe={class:"form-card"},Ye={class:"form-section"},Ze={class:"form-group"},es={class:"form-group"},ss={class:"form-section"},ts={class:"section-header"},os={class:"section-title"},ls={key:0,class:"empty-questions"},ns={class:"question-header"},is={class:"question-meta"},as={class:"question-number"},us={class:"question-actions"},rs=["onClick"],ds=["onClick"],cs={class:"question-content"},ps={class:"question-title"},vs={key:0,class:"question-description"},fs={class:"question-preview"},ms={class:"question-type-info"},ys={key:0,class:"options-preview"},gs={class:"options-list"},bs={key:0,class:"option-more"},hs={key:1,class:"question-error"},ks={class:"form-actions"},Ts=["disabled"],ws={key:0,class:"fas fa-spinner fa-spin"},xs={key:1,class:"fas fa-save"},_s={class:"modal-body"},Cs={class:"reference-filters"},qs={class:"search-box"},Is={key:0,class:"loading-state"},Ds={key:1,class:"empty-state"},Ms={key:2,class:"reference-questions-list"},Qs=["onClick"],Os={class:"question-type-badge"},Ns={key:0},Vs={class:"modal-body"},$s={key:0,class:"new-question-form"},Us={class:"form-section"},Es={class:"form-group"},Ss={class:"form-group"},As={class:"form-group"},Bs={class:"question-types"},Fs=["onClick"],Rs={key:0,class:"form-section"},Ls={key:0,class:"nested-options-controls"},zs={class:"checkbox-label"},Js={class:"options-container"},Ps={class:"option-input-group"},js={class:"option-index"},Gs=["onUpdate:modelValue","placeholder"],Ks=["onClick"],Hs=["onClick"],Ws={key:0,class:"child-options-container"},Xs={class:"child-option-input-group"},Ys={class:"child-option-index"},Zs=["onUpdate:modelValue","placeholder"],et=["onClick"],st={class:"message-content"},tt=De({__name:"questionnaire_model_edit",setup(g){const y=Qe(),f=Se(),h=Me(),w=r(!1),D=r(!1),q=r(""),x=r(null),c=r([]),K=r(!1),F=r(!1),R=r(!1),$=r([]),L=r(!1),M=r(""),Q=r(""),l=r(null),U=r(-1),k=r({modelTitle:"",modelDesc:""}),_=r({text:"",type:"success"}),z=A(()=>y.params.id),H=A(()=>!k.value.modelTitle.trim()||c.value.length===0?!1:Be(c.value).valid),W=A(()=>{let t=$.value;if(Q.value&&(t=t.filter(s=>s.questionType===Q.value)),M.value.trim()){const s=M.value.toLowerCase().trim();t=t.filter(o=>o.questionTitle&&o.questionTitle.toLowerCase().includes(s)||o.questionTxt&&o.questionTxt.toLowerCase().includes(s))}return t}),ce=A(()=>l.value&&["single","multiple","dropdown"].includes(l.value.questionType||l.value.type||"")),pe=[{value:"single",label:"单选题",icon:"fas fa-dot-circle"},{value:"multiple",label:"多选题",icon:"fas fa-check-square"},{value:"text",label:"文本题",icon:"fas fa-align-left"},{value:"dropdown",label:"下拉选择题",icon:"fas fa-chevron-down"}];async function X(){if(!z.value){q.value="缺少模版ID参数";return}w.value=!0,q.value="";try{console.log("Loading model with ID:",z.value);const t=await Je(z.value);if(!t){q.value="未找到指定的模版";return}x.value=t,k.value.modelTitle=t.modelTitle||"",k.value.modelDesc=t.modelDesc||"";const s=await Le(t.questionsArray);c.value=s.map(o=>({id:o.id,type:"reference",questionId:o.id,questionTitle:o.title,questionTxt:o.description||"",questionOptions:JSON.stringify(o.options||[]),canDelete:1})),console.log("Model loaded successfully:",t),console.log("Parsed questions:",c.value)}catch(t){console.error("Failed to load model:",t),q.value="加载模版信息失败，请稍后重试"}finally{w.value=!1}}async function ve(){if(!H.value||!x.value){p("请填写必要信息","error");return}D.value=!0;try{console.log("开始保存模版，处理问题列表...");const t=await Re(c.value);console.log("处理后的问题ID数组:",t);const s={modelId:x.value.modelId,modelTitle:k.value.modelTitle.trim(),modelDesc:k.value.modelDesc.trim(),questionsArray:JSON.stringify(t),canDelete:x.value.canDelete};console.log("Saving model with data:",s);const o=await Pe(s);o.success?(p(o.message||"模版更新成功！","success"),o.newModelId&&(h.updateQuestionnaireModelId(x.value.modelId,o.newModelId),console.log(`Updated user model ID mapping: ${x.value.modelId} -> ${o.newModelId}`)),setTimeout(()=>{f.push({name:"questionnaire_model_my"})},2e3)):p(o.message||"保存失败，请稍后重试","error")}catch(t){console.error("Failed to save model:",t),p("保存失败，请检查网络连接","error")}finally{D.value=!1}}function fe(){f.push({name:"questionnaire_model_my"})}function p(t,s){_.value.text=t,_.value.type=s,setTimeout(()=>{Y()},3e3)}function Y(){_.value.text=""}function me(t){return{success:"fas fa-check-circle",error:"fas fa-exclamation-circle",warning:"fas fa-exclamation-triangle",info:"fas fa-info-circle"}[t]||"fas fa-info-circle"}function J(){K.value=!1}function Z(){try{const t={id:B(),type:"new",title:"",description:"",questionType:"single",options:[{text:"选项1"},{text:"选项2"}],allowOther:!1,isNested:!1};c.value.push(t),J(),p("问题已添加，请完善问题信息","success")}catch(t){console.error("添加问题失败:",t),p("添加问题失败","error")}}function ee(){try{F.value=!0,ye()}catch(t){console.error("打开引用问题模态框失败:",t),p("加载引用问题失败","error")}}function P(){F.value=!1,M.value="",Q.value=""}async function ye(){if(console.log("开始加载引用问题..."),!h.isLoggedIn){p("请先登录","error");return}console.log("用户数据:",h.userData);const t=h.userData?.question_ids;if(!t||t.length===0){console.log("用户没有可引用的问题组件"),$.value=[];return}console.log("要获取的问题ID:",t),L.value=!0;try{const s=await ze(t);$.value=s,console.log("引用问题加载完成:",s.length)}catch(s){console.error("加载引用问题失败:",s),p("加载问题组件失败: "+s,"error")}finally{L.value=!1}}function ge(t){const s={id:B(),type:"reference",questionId:t.questionId,questionTitle:t.questionTitle,questionOptions:t.questionOptions,questionTxt:t.questionTxt,canDelete:t.canDelete};c.value.push(s),P(),p("问题已添加到模版","success")}function be(t){const s=c.value[t],o=se(s);confirm(`确定要移除问题"${o}"吗？`)&&(c.value.splice(t,1),p("问题已移除","success"))}function he(t,s){t.type==="reference"?l.value=qe(t):l.value=JSON.parse(JSON.stringify(t)),U.value=s,R.value=!0}function E(){R.value=!1,l.value=null,U.value=-1}function ke(t){l.value&&(l.value.questionType=t,["single","multiple","dropdown"].includes(t)&&!l.value.options&&(l.value.options=[{text:"选项1"},{text:"选项2"}]))}function Te(){l.value?.options&&l.value.options.push({text:""})}function we(t){l.value?.options&&l.value.options.length>2&&l.value.options.splice(t,1)}function xe(t){l.value?.options?.[t]&&(l.value.options[t].children||(l.value.options[t].children=[]),l.value.options[t].children.push({text:""}))}function _e(t,s){l.value?.options?.[t]?.children&&l.value.options[t].children.splice(s,1)}function Ce(){if(l.value&&U.value>=0){const t=G(l.value);if(!t.valid){p(t.message||"问题信息不完整","error");return}c.value[U.value]=l.value,E(),p("问题已更新","success")}}function qe(t){try{let s=[];if(t.questionOptions)try{s=ue(t.questionOptions).map(m=>({text:m}))}catch(u){console.warn("Failed to parse question options:",u)}const o=t.questionType||"single";return["single","multiple","dropdown"].includes(o)&&s.length===0&&(s=[{text:"选项1"},{text:"选项2"}]),{id:t.id||B(),type:"modified_reference",originalQuestionId:t.questionId,title:t.questionTitle||"未命名问题",description:t.questionTxt||"",questionType:o,options:s,allowOther:!1,isNested:!1}}catch(s){return console.error("Failed to convert reference question:",s),{id:t.id||B(),type:"new",title:t.questionTitle||"未命名问题",description:t.questionTxt||"",questionType:"single",options:[{text:"选项1"},{text:"选项2"}],allowOther:!1,isNested:!1}}}function se(t){return t.type==="reference"?t.questionTitle||"未知问题":t.title||"未命名问题"}function te(t){return t.type==="reference"?t.questionTxt||"":t.description||""}function oe(t){return t.questionType||"single"}function le(t){return G(t).valid}function Ie(t){return G(t).message||""}function S(t){if(t.type==="reference"&&t.questionOptions)return ue(t.questionOptions);if((t.type==="new"||t.type==="modified_reference")&&t.options){const s=[];return t.options.forEach(o=>{o.text.trim()&&(t.isNested&&o.children&&o.children.length>0?o.children.forEach(u=>{u.text.trim()&&s.push(`${o.text} > ${u.text}`)}):s.push(o.text))}),s}return[]}return Oe(()=>{X()}),(t,s)=>(n(),i("div",je,[s[52]||(s[52]=e("div",{class:"page-header"},[e("h1",{class:"page-title"},[e("i",{class:"fas fa-edit"}),v(" 编辑问卷模版 ")]),e("p",{class:"page-description"},"修改您的问卷模版信息")],-1)),w.value?(n(),i("div",Ge,[...s[11]||(s[11]=[e("div",{class:"loading-spinner"},[e("i",{class:"fas fa-spinner fa-spin"}),e("p",null,"正在加载模版信息...")],-1)])])):q.value?(n(),i("div",Ke,[e("div",He,[s[13]||(s[13]=e("i",{class:"fas fa-exclamation-triangle"},null,-1)),s[14]||(s[14]=e("h3",null,"加载失败",-1)),e("p",null,a(q.value),1),e("button",{onClick:X,class:"btn btn-primary"},[...s[12]||(s[12]=[e("i",{class:"fas fa-redo"},null,-1),v(" 重试 ",-1)])])])])):x.value?(n(),i("div",We,[e("div",Xe,[e("div",Ye,[s[17]||(s[17]=e("h3",{class:"section-title"},[e("i",{class:"fas fa-info-circle"}),v(" 基本信息 ")],-1)),e("div",Ze,[s[15]||(s[15]=e("label",{class:"field-label"},"模版标题 *",-1)),T(e("input",{"onUpdate:modelValue":s[0]||(s[0]=o=>k.value.modelTitle=o),type:"text",class:"form-input",placeholder:"请输入模版标题",maxlength:"100"},null,512),[[C,k.value.modelTitle]])]),e("div",es,[s[16]||(s[16]=e("label",{class:"field-label"},"模版描述",-1)),T(e("textarea",{"onUpdate:modelValue":s[1]||(s[1]=o=>k.value.modelDesc=o),class:"form-textarea",placeholder:"请输入模版描述（可选）",maxlength:"500",rows:"4"},null,512),[[C,k.value.modelDesc]])])]),e("div",ss,[e("div",ts,[e("h3",os,[s[18]||(s[18]=e("i",{class:"fas fa-list"},null,-1)),v(" 包含的问题 ("+a(c.value.length)+"个) ",1)]),e("div",{class:"add-question-buttons"},[e("button",{onClick:Z,class:"btn btn-primary"},[...s[19]||(s[19]=[e("i",{class:"fas fa-plus"},null,-1),v(" 新建问题 ",-1)])]),e("button",{onClick:ee,class:"btn btn-secondary"},[...s[20]||(s[20]=[e("i",{class:"fas fa-link"},null,-1),v(" 引用问题 ",-1)])])])]),c.value.length===0?(n(),i("div",ls,[...s[21]||(s[21]=[e("div",{class:"empty-content"},[e("i",{class:"fas fa-inbox"}),e("h3",null,"暂无问题"),e("p",null,"点击上方按钮开始添加问题")],-1)])])):(n(),Ne(O(Fe),{key:1,modelValue:c.value,"onUpdate:modelValue":s[2]||(s[2]=o=>c.value=o),class:"questions-list",group:{name:"questions"},"item-key":"id",handle:".drag-handle"},{item:Ve(({element:o,index:u})=>[e("div",{class:b(["question-item",{invalid:!le(o)}])},[e("div",ns,[e("div",is,[s[22]||(s[22]=e("i",{class:"fas fa-grip-vertical drag-handle"},null,-1)),e("span",as,a(u+1),1),e("span",{class:b(["question-type-badge",o.type])},[e("i",{class:b(o.type==="reference"?"fas fa-link":o.type==="modified_reference"?"fas fa-edit":"fas fa-plus")},null,2),v(" "+a(o.type==="reference"?"引用问题":o.type==="modified_reference"?"已修改引用":"新建问题"),1)],2)]),e("div",us,[e("button",{onClick:m=>he(o,u),class:"action-btn edit-btn",title:"编辑问题"},[...s[23]||(s[23]=[e("i",{class:"fas fa-edit"},null,-1)])],8,rs),e("button",{onClick:m=>be(u),class:"action-btn delete-btn",title:"移除问题"},[...s[24]||(s[24]=[e("i",{class:"fas fa-trash"},null,-1)])],8,ds)])]),e("div",cs,[e("h4",ps,a(se(o)),1),te(o)?(n(),i("p",vs,a(te(o)),1)):d("",!0),e("div",fs,[e("div",ms,[e("i",{class:b(O(ie)(oe(o)))},null,2),e("span",null,a(O(ae)(oe(o))),1)]),S(o).length>0?(n(),i("div",ys,[e("div",gs,[(n(!0),i(N,null,V(S(o).slice(0,3),(m,I)=>(n(),i("span",{key:I,class:"option-tag"},a(m),1))),128)),S(o).length>3?(n(),i("span",bs," +"+a(S(o).length-3)+" 个选项 ",1)):d("",!0)])])):d("",!0)]),le(o)?d("",!0):(n(),i("div",hs,[s[25]||(s[25]=e("i",{class:"fas fa-exclamation-triangle"},null,-1)),e("span",null,a(Ie(o)),1)]))])],2)]),_:1},8,["modelValue"]))]),e("div",ks,[e("button",{onClick:fe,class:"btn btn-secondary"},[...s[26]||(s[26]=[e("i",{class:"fas fa-arrow-left"},null,-1),v(" 返回 ",-1)])]),e("button",{onClick:ve,disabled:!H.value||D.value,class:"btn btn-primary"},[D.value?(n(),i("i",ws)):(n(),i("i",xs)),v(" "+a(D.value?"保存中...":"保存修改"),1)],8,Ts)])])])):d("",!0),K.value?(n(),i("div",{key:3,class:"modal-overlay",onClick:J},[e("div",{class:"modal-content",onClick:s[3]||(s[3]=j(()=>{},["stop"]))},[e("div",{class:"modal-header"},[s[28]||(s[28]=e("h3",null,"选择问题类型",-1)),e("button",{onClick:J,class:"close-btn"},[...s[27]||(s[27]=[e("i",{class:"fas fa-times"},null,-1)])])]),e("div",{class:"modal-body"},[e("div",{class:"add-question-options"},[e("div",{class:"option-card",onClick:Z},[...s[29]||(s[29]=[e("div",{class:"option-icon"},[e("i",{class:"fas fa-plus"})],-1),e("div",{class:"option-content"},[e("h4",null,"新建问题"),e("p",null,"创建一个全新的问题")],-1)])]),e("div",{class:"option-card",onClick:ee},[...s[30]||(s[30]=[e("div",{class:"option-icon"},[e("i",{class:"fas fa-link"})],-1),e("div",{class:"option-content"},[e("h4",null,"引用问题"),e("p",null,"从已有问题中选择")],-1)])])])])])])):d("",!0),F.value?(n(),i("div",{key:4,class:"modal-overlay",onClick:P},[e("div",{class:"modal-content large-modal",onClick:s[6]||(s[6]=j(()=>{},["stop"]))},[e("div",{class:"modal-header"},[s[32]||(s[32]=e("h3",null,"选择要引用的问题",-1)),e("button",{onClick:P,class:"close-btn"},[...s[31]||(s[31]=[e("i",{class:"fas fa-times"},null,-1)])])]),e("div",_s,[e("div",Cs,[e("div",qs,[s[33]||(s[33]=e("i",{class:"fas fa-search"},null,-1)),T(e("input",{"onUpdate:modelValue":s[4]||(s[4]=o=>M.value=o),type:"text",placeholder:"搜索问题标题或内容...",class:"search-input"},null,512),[[C,M.value]])]),T(e("select",{"onUpdate:modelValue":s[5]||(s[5]=o=>Q.value=o),class:"type-filter"},[...s[34]||(s[34]=[Ue('<option value="" data-v-31010b42>全部类型</option><option value="single" data-v-31010b42>单选题</option><option value="multiple" data-v-31010b42>多选题</option><option value="text" data-v-31010b42>文本题</option><option value="dropdown" data-v-31010b42>下拉选择题</option>',5)])],512),[[$e,Q.value]])]),L.value?(n(),i("div",Is,[...s[35]||(s[35]=[e("i",{class:"fas fa-spinner fa-spin"},null,-1),e("p",null,"正在加载问题列表...",-1)])])):W.value.length===0?(n(),i("div",Ds,[s[36]||(s[36]=e("i",{class:"fas fa-inbox"},null,-1)),e("p",null,a($.value.length===0?"暂无可引用的问题":"没有找到匹配的问题"),1)])):(n(),i("div",Ms,[(n(!0),i(N,null,V(W.value,o=>(n(),i("div",{key:o.questionId,class:"reference-question-item",onClick:u=>ge(o)},[e("div",Os,[e("i",{class:b(O(ie)(o.questionType))},null,2),v(" "+a(O(ae)(o.questionType)),1)]),e("h4",null,a(o.questionTitle||"未命名问题"),1),o.questionTxt?(n(),i("p",Ns,a(o.questionTxt),1)):d("",!0)],8,Qs))),128))]))])])])):d("",!0),R.value&&l.value?(n(),i("div",{key:5,class:"modal-overlay",onClick:E},[e("div",{class:"modal-content large-modal",onClick:s[10]||(s[10]=j(()=>{},["stop"]))},[e("div",{class:"modal-header"},[s[38]||(s[38]=e("h3",null,"编辑问题",-1)),e("button",{onClick:E,class:"close-btn"},[...s[37]||(s[37]=[e("i",{class:"fas fa-times"},null,-1)])])]),e("div",Vs,[l.value?(n(),i("div",$s,[e("div",Us,[s[42]||(s[42]=e("h3",{class:"section-title"},[e("i",{class:"fas fa-info-circle"}),v(" 基本信息 ")],-1)),e("div",Es,[s[39]||(s[39]=e("label",{class:"field-label"},"问题标题 *",-1)),T(e("input",{"onUpdate:modelValue":s[7]||(s[7]=o=>l.value.title=o),type:"text",class:"form-input",placeholder:"请输入问题标题",required:""},null,512),[[C,l.value.title]])]),e("div",Ss,[s[40]||(s[40]=e("label",{class:"field-label"},"问题描述",-1)),T(e("textarea",{"onUpdate:modelValue":s[8]||(s[8]=o=>l.value.description=o),class:"form-textarea",placeholder:"请输入问题的详细描述（可选）",rows:"3"},null,512),[[C,l.value.description]])]),e("div",As,[s[41]||(s[41]=e("label",{class:"field-label"},"问题类型 *",-1)),e("div",Bs,[(n(),i(N,null,V(pe,o=>e("div",{key:o.value,class:b(["type-option",{active:l.value.questionType===o.value}]),onClick:u=>ke(o.value)},[e("i",{class:b(o.icon)},null,2),e("span",null,a(o.label),1)],10,Fs)),64))])])]),ce.value?(n(),i("div",Rs,[s[50]||(s[50]=e("h3",{class:"section-title"},[e("i",{class:"fas fa-list"}),v(" 选项配置 ")],-1)),l.value.questionType==="dropdown"?(n(),i("div",Ls,[e("label",zs,[T(e("input",{type:"checkbox","onUpdate:modelValue":s[9]||(s[9]=o=>l.value.isNested=o),class:"checkbox-input"},null,512),[[Ee,l.value.isNested]]),s[43]||(s[43]=e("span",{class:"checkbox-custom"},null,-1)),s[44]||(s[44]=e("span",{class:"checkbox-text"},"启用多级下拉列表（如：国家-省份-城市）",-1))])])):d("",!0),e("div",Js,[(n(!0),i(N,null,V(l.value.options,(o,u)=>(n(),i("div",{key:u,class:b(["option-item",{"nested-option":l.value.isNested&&l.value.questionType==="dropdown"}])},[e("div",Ps,[e("span",js,a(u+1),1),T(e("input",{"onUpdate:modelValue":m=>o.text=m,type:"text",class:"option-input",placeholder:l.value.isNested?`一级选项 ${u+1}（如：中国）`:`选项 ${u+1}`,required:""},null,8,Gs),[[C,o.text]]),l.value.isNested&&l.value.questionType==="dropdown"?(n(),i("button",{key:0,type:"button",class:"add-child-btn",onClick:m=>xe(u),title:"添加子选项"},[...s[45]||(s[45]=[e("i",{class:"fas fa-plus"},null,-1)])],8,Ks)):d("",!0),l.value.options&&l.value.options.length>2?(n(),i("button",{key:1,type:"button",class:"remove-option-btn",onClick:m=>we(u)},[...s[46]||(s[46]=[e("i",{class:"fas fa-times"},null,-1)])],8,Hs)):d("",!0)]),l.value.isNested&&l.value.questionType==="dropdown"&&o.children&&o.children.length>0?(n(),i("div",Ws,[(n(!0),i(N,null,V(o.children,(m,I)=>(n(),i("div",{key:I,class:"child-option-item"},[e("div",Xs,[s[48]||(s[48]=e("span",{class:"child-option-connector"},"└─",-1)),e("span",Ys,a(u+1)+"."+a(I+1),1),T(e("input",{"onUpdate:modelValue":ne=>m.text=ne,type:"text",class:"child-option-input",placeholder:`二级选项 ${I+1}（如：北京）`},null,8,Zs),[[C,m.text]]),e("button",{type:"button",class:"remove-child-btn",onClick:ne=>_e(u,I)},[...s[47]||(s[47]=[e("i",{class:"fas fa-times"},null,-1)])],8,et)])]))),128))])):d("",!0)],2))),128)),e("button",{type:"button",class:"add-option-btn",onClick:Te},[s[49]||(s[49]=e("i",{class:"fas fa-plus"},null,-1)),v(" "+a(l.value.isNested?"添加一级选项":"添加选项"),1)])])])):d("",!0)])):d("",!0)]),e("div",{class:"modal-footer"},[e("button",{onClick:E,class:"btn btn-secondary"},"取消"),e("button",{onClick:Ce,class:"btn btn-primary"},"保存修改")])])])):d("",!0),_.value.text?(n(),i("div",{key:6,class:b(["message-container",_.value.type])},[e("div",st,[e("i",{class:b(me(_.value.type))},null,2),e("span",null,a(_.value.text),1),e("button",{onClick:Y,class:"message-close"},[...s[51]||(s[51]=[e("i",{class:"fas fa-times"},null,-1)])])])],2)):d("",!0)]))}}),ut=Ae(tt,[["__scopeId","data-v-31010b42"]]);export{ut as default};
